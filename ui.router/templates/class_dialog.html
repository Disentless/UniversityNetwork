<md-dialog aria-label="Class Dialog" style="width: 60%; height: 80%; max-width: 800px">
    <md-toolbar>
        <div class="md-toolbar-tools">
            <h2>{{ classObj.id }}</h2>
            <span flex></span>
            <md-button class="md-icon-button" ng-click="close()">
                <md-icon md-svg-icon="images/icons/close-button.svg"></md-icon>
            </md-button>
        </div>
    </md-toolbar>
    <md-dialog-content ng-cloak>
        <div class="md-dialog-content">
            <md-content>
            <md-tabs md-dynamic-height md-border-bottom>
                <md-tab label="Файлы">
                    <md-content>
                        <form ng-show="addFileForm" name="newUploadForm">
                            <md-button ng-click="addFileForm = false">Close</md-button>
                            <input class="ng-hide" id="upload-file" type="file" multiple>
                            <label for="upload-file" class="md-button md-raised">Выбрать файл</label>
                            <md-button class="md-raised md-primary" ng-click="confirmUpload()">Add</md-button>
                        </form>
                        <div ng-show="!addFileForm" layout="column">
                            <md-button ng-click="addFileForm = true">Загрузить</md-button>
                            <md-divider></md-divider>
                            <h3>Картинки</h3>
                            <div layout="row" layout-wrap layout-padding>
                                <md-card ng-repeat="file in files" ng-if="file.type == 'img'">
                                    <md-card-title>
                                        <md-card-title-text></md-card-title-text>
                                    </md-card-title>
                                    <md-card-content layout="row">
                                        <div class="md-media-xl card-media"></div>
                                        <md-card-actions layout="column">
                                            <md-button class="md-icon-button" aria-label="delete">
                                                <md-icon md-svg-icon="images/icons/ic_delete_forever_black_24px.svg"></md-icon>
                                            </md-button>
                                        </md-card-actions>
                                    </md-card-content>
                                </md-card>
                            </div>
                            <md-divider></md-divider>
                            <h3>Документы</h3>
                            <div layout="row" layout-wrap layout-padding>
                            
                            </div>
                            <md-divider></md-divider>
                            <h3>Архивы</h3>
                            <div layout="row" layout-wrap layout-padding>
                            
                            </div>
                        </div>
                    </md-content>
                </md-tab>
                <md-tab label="Работы">
                    <md-content class="md-padding">
                        <form ng-show="addAsgForm" name="newAsgForm" ng-init="newAsg = {}" layout="column">
                            <md-button ng-click="addAsgForm = false">Close</md-button>
                            <md-input-container md-block>
                                <label>Type</label>
                                <md-select ng-model="asgType" required>
                                    <md-option value="lab">Lab</md-option>
                                    <md-option value="">Coming soon</md-option>
                                </md-select>
                            </md-input-container>
                            <md-input-container md-block ng-if="asgType='lab'">
                                <label>Order</label>
                                <input type="number" ng-model="newAsg.order" value="1" required>
                            </md-input-container>
                            <md-input-container md-block ng-if="asgType='lab'">
                                <label>Theme</label>
                                <input type="text" minlength="5" ng-model="newAsg.theme" required>
                            </md-input-container>
                            <md-input-container md-block ng-if="asgType='lab'">
                                <label>Description</label>
                                <textarea rows="2" ng-model="newAsg.desc"></textarea>
                            </md-input-container>
                            <md-button ng-show="newAsgForm.$valid" ng-click="confirmAsg()">Confirm</md-button>
                        </form>
                        <div ng-show="!addAsgForm">
                            <md-button ng-click="addAsgForm = true">Add</md-button>
                            <md-list>
                                <md-list-item class="md-3-line" ng-repeat="lab in labs">
                                    <div class="md-list-item-text">
                                        <h3>Лабораторная работа №{{lab.order}}</h3>
                                        <p>{{ lab.theme }}</p>
                                        <p>{{ lab.desc ? lab.desc : 'Описание отсутствует' }}</p>
                                    </div>
                                    <md-switch class="md-secondary md-warn" ng-model="lab.completed" ng-change="updateStatus(lab)"></md-switch>
                                    <md-button class="md-secondary md-warn" ng-click="modifyAsgFn('lab', lab)" aria-label="Edit">
                                        <md-icon md-svg-src="images/icons/underline-button.svg"></md-icon>
                                    </md-button>
                                    <md-button class="md-secondary md-warn" ng-click="deleteAsgFn('lab', lab)" aria-label="Delete">
                                        <md-icon md-svg-src="images/icons/round-delete-button.svg"></md-icon>
                                    </md-button>
                                    <md-divider ng-if="!$last"></md-divider>
                                </md-list-item>
                            </md-list>
                        </div>
                    </md-content>
                </md-tab>
                
            </md-tabs>
            </md-content>
        </div>
    </md-dialog-content>
</md-dialog>